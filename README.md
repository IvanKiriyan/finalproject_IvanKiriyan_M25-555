# Итоговый проект | ValutaTrade Hub | Иван Кириян М25-555

ValutaTrade Hub - платформа для отслеживания и симуляции торговли валютами. Курс обновляется по запросу пользователя в любой момент либо автоматически - 1 раз в час. Время автообновления обусловлено ограничениями внешнего API. Пользователь может отслеживать, приобретать и продавать несколько валют - в программе используются фиатные валюты и криптовалюты. Среди фиатных - российский рубль, британские фунты и американский доллар. Среди криптовалют - биткоин, эфириум и солана.

Программа реализована с помощью языка Python 3.14.2, Poetry 2.2.1, Ruff. Данные хранятся в JSON-файлах. Подключены библиотеки PrettyTable для вывода таблиц и библиотеки requests - для запроса данных с внешнего API.

Информацию об актуальных курсах получил в сервисах CoinGecko - криптовалюты и ExchangeRate - фиатные валюты.

## Структура проекта:

```text
finalproject_IvanKiriyan_M25-555/
├── data/
│   ├── users.json            # список пользователей
│   ├── portfolios.json       # портфели пользователей
│   ├── rates.json            # кеш последних курсов
│   └── exchange_rates.json   # история измерений
├── logs/
│   └── actions.log           # логи действий
├── demonstration/
│   └── finalproyect.gif      # GIF-демонстрация работы программы
├── valutatrade_hub/
│   ├── core/                 # модели, usecases, валюты, исключения, utils
│   ├── infra/                # SettingsLoader и DatabaseManager (Singleton)
│   ├── parser_service/       # клиенты API + updater + storage + scheduler
│   ├── cli/                  # интерфейс команд
│   ├── decorators.py         # @log_action
│   └── logging_config.py     # конфигурация логов
├── main.py
├── Makefile
├── pyproject.toml
└── README.md

# Работа с проектом локально
1. Клонируйте проект - в шапке проекта на гитхаб при помощи кнопки code
2. В корневой директории проекта введите команду
    
    poetry install
        или
    make install

Тогда у вас запустится проект и тогда перед вами появится интерфейс для взаимодействия с программой.

Привет, это ValutaTrade Hub, где обмен валют живет в консоли

Список команд:

Сначала - зарегистрируйтесь:
> register --username <тут_имя> --password <не меньше 4 циферок>

Затем - после регистрации залогиньтесь:
> login --username <тут_имя> --password <как при регистрации>

До тех пор, пока не совершите команду buy, ваше портфолио будет пустое (для нового пользователя):
> show-portfolio [--base <код валюты>]

С помощью команды вы можете покупать валюты. Но сначала - выпишите себе доллары:
> buy --currency <код валюты> --amount <количество>

С помощью этой команды вы сможете продавать свою валюту.
> sell --currency <код валюты> --amount <количество>

С помощью следующей команды вы сможете получить курс одной валюты к другой, но сначала - обновите его:
> get-rate --from <код валюты> --to <код валюты>

С помощью этой команды вы узнаете актуальные курсы валют:
> update-rates [--source coingecko|exchangerate]

А с помощью этой - получите вывод в виде таблицы или одной строки:
> show-rates [--currency <код валюты>] [--top 2]

# Демонстрация работы проекта
![ValutaTrade Hub demo](demonstration/finalproyect.gif)